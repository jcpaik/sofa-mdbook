Instead of moving a sofa \\(S\\) inside the fixed hallway \\(L\\), we can fix the sofa \\(S\\) and move/rotate the hallway \\(L\\) by looking at the movement in perspective of the sofa. That is, the sofa is an intersection of rotating hallways. This observation has been used as the first step in many existing works.

TODO: insert figure here and add references.

We will soon consider only a finite intersection of hallways with a prescribed set of angles. With this, we introduce the following notion of an intersection of rotating hallways.

> **Definition \[hallway-intersection\].** A connected shape \\(S\\) is a *hallway intersection* with *rotation angle* \\(\omega \in \[0, \pi/2\]\\) and *angle set* \\(\Theta \subseteq \left\[ 0, \omega \right\]\\) if the followings hold.
> - \\(\Theta\\) is a closed set such that \\(\left\\ 0, \omega \right\\ \subseteq \Theta\\)
> - \\(S\\) is contained in the horizontal strip \\(H\\) and \\(R\_\omega(V)\\), the vertical strip rotated counterclockwise by an angle of \\(\omega\\). In other words, \\(S\\) is contained in the parallelogram \\(P\_\beta\\).
> - For every \\(\theta \in \Theta\\), \\(S\\) is contained in a translation of \\(R\_\theta(L)\\), the hallway rotated counterclockwise by an angle of \\(\theta\\).
> - \\(p\_{S}(\omega)=p\_S(\pi/2)=1\\). In other words, \\(S\\) touches the sides \\(l(\beta, 1)\\) and \\(l(\pi/2, 1)\\) of the parallelogram \\(P\_\beta\\).
> ^def-hallway-intersection

We will show that a sofa with rotation angle \\(\omega\\) is, up to rigid transformation, exactly a hallway intersection with the following angle set.

> **Definition \[full-angle-set\].** For any \\(\omega \in \[0, \pi/2\]\\), define \\\[\Pi\_\omega = \[0, \omega\] \cup \[\pi/2, \pi/2 + \omega\] \cup \\\pi + \omega, 3 \pi/2\\\\\] ^def-full-angle-set

# Tangent Hallway

> **Definition \[tangent-rigid-motion\].** For any shape \\(S\\) and an angle \\(t \in S^1\\), define \\(f\_S(t)\\) as the rigid motion \\(f\_S (t) = R\_t \circ T\_{\left( p\_S(t) - 1, p\_S(t + \pi/2) - 1 \right)}\\). ^def-tangent-rigid-motion

*Proof.* The continuity of \\(f\_S(t)\\) comes from the continuity of the support function \\(p\_S(t)\\). □

> **Definition \[tangent-hallway\].** For any shape \\(S\\) and an angle \\(t \in S^1\\), define the *tangent hallway* \\(L\_S(t) = \[f\_S(t)\](L)\\) of \\(S\\) with angle \\(t\\). Note that \\(f\_S(t)\\) is a proper rigid transformation so it is a map from \\(\mathbb{R}^2\\) to \\(\mathbb{R}^2\\).
> Accordingly, define the *inner corner* \\(\mathbf{x}\_S(t) = \[f\_S(t)\](0, 0)\\) and *outer corner* \\(\mathbf{y}\_S(t) = \[f\_S(t)\](1, 1)\\) of the tangent hallway \\(L\_S(t)\\). ^def-tangent-hallway

> **Lemma \[in-tangent-hallway\].** If a shape \\(S\\) is contained in a translation of \\(R\_t(L)\\) for an angle \\(t\\), then the tangent hallway \\(L\_S(t)\\) of \\(S\\) with angle \\(t\\) contains \\(S\\) as well. ^lem-in-tangent-hallway

*Proof.* As \\(S\\) is contained in a translation of \\(R\_t(L)\\), the set \\(S' = \[f\_S(t)\]^{-1}(S)\\) is contained in a translation of \\(\[f\_S(t)\]^{-1}(R\_t(L)) = T\_{\left( p\_S(t) - 1, p\_S(t + \pi/2) - 1 \right)}(L)\\) and thus a translation of \\(L\\). We will show that \\(S'\\) is contained in \\(L\\). This proves the goal as \\(S' \subseteq L\\) implies the following.
\\\[S = \[f\_{S}(t)\](S') \subseteq \[f\_S(t)\](L)=L\_S(t)\\\]
To show \\(S' \subseteq L\\), we first compute \\(p\_{S'}(0) = 1\\) and \\(p\_{S'}(\pi/2)=1\\). For any \\(u \in S^1\\) we have the computation
\\\[p\_{S}(u) = p\_{\[f\_S(t)\](S')}(u) = p\_{T\_{\left( p\_S(t) - 1, p\_S(t + \pi/2) - 1 \right)}(S')}(u-t)\\\]
so by letting \\(u=t\\), we have \\(p\_S(t) = p\_{T\_{\left( p\_S(t) - 1, p\_S(t + \pi/2) - 1 \right)}(S')}(0)=p\_{S'}(0)+p\_S(t)-1\\) and by letting \\(u=t+\pi/2\\), we have \\(p\_S(t + \pi/2) = p\_{T\_{\left( p\_S(t) - 1, p\_S(t + \pi/2) - 1 \right)}(S')}(\pi/2)=p\_{S'}(\pi/2)+p\_S(t + \pi/2)-1\\). That is, by evaluation we have \\(p\_{S'}(0)=1\\) and \\(p\_{S'}(\pi/2) = 1\\).
Now we show \\(S' \subseteq L\\). By assumption we have \\(S' \subseteq L + (x\_0, y\_0)\\) for some vector \\((x\_0, y\_0) \in \mathbb{R}^2\\). By comparing their support functions at \\(t=0, \pi/2\\) we have \\(1=p\_{S'}(0) \leq p\_{L+(x\_0, y\_0)}(0) = 1 + x\_{0}\\) and \\(1=p\_{S'}(\pi/2) \leq p\_{L+(x\_0, y\_0)}(\pi/2) = 1 + y\_0\\) so we have \\(0 \leq x\_0, y\_0\\). The set \\((-\infty, x\_0) \times (-\infty, y\_0)\\) is disjoint from \\(L + (x\_0, y\_0)\\). Using \\(0 \leq x\_0, y\_0\\) on the disjointness, we have that \\((-\infty, 0) \times (-\infty, 0) \subseteq (-\infty, x\_0) \times (-\infty, y\_0)\\) is also disjoint from \\(L + (x\_0, y\_0)\\). So the set \\((-\infty, 0) \times (-\infty, 0)\\) is disjoint from \\(S' \subseteq L + (x\_0, y\_0)\\). Also, \\(S' \subseteq (-\infty, 1\] \times (-\infty, 1\]\\) because \\(p\_{S'}(0)=1\\) and \\(p\_{S'}(\pi/2) = 1\\). Thus, \\(S' \subseteq L = (-\infty, 1\] \times (-\infty, 1\] \setminus (-\infty, 0) \times (-\infty, 0)\\). □

TODO: improve the writeup above

> **Theorem \[sofa-iff-hallway-intersection\].** A shape \\(S\\) is a sofa with rotation angle \\(\omega \in \[0, \pi/2\]\\) if and only if \\(S\\) is connected and there is a proper rigid transformation \\(g\\) such that \\(g(S)\\) is a hallway intersection with the angle set \\(\Theta = \[0, \omega\]\\). ^thm-sofa-iff-hallway-intersection

*Proof.* (\\(\Rightarrow\\)) First we assume that \\(S\\) is a sofa with rotation angle \\(\omega \in \[0, \pi/2\]\\), and prove that there is a proper rigid transformation \\(g\\) such that \\(g(S)\\) is a hallway intersection with angle set \\(\Theta = \[0, \omega\]\\). Let \\(f\_- : \[a, b\] \to \mathcal{T}\\) be the movement of the sofa with rotation angle \\(\omega\\) (see [02. Sofa#^def-sofa](02. Sofa#^def-sofa "wikilink") and [02. Sofa#^def-rotation-angle](02. Sofa#^def-rotation-angle "wikilink")).

By replacing \\(S\\) with \\(f\_a(S)\\) and \\(f\_t\\) with \\(f\_t \circ f\_a^{-1}\\), we can assume without loss of generality that \\(f\_a(S) = S\\) (that is, we can assume that \\(S\\) starts its movement at its own position). Also, we get that \\(f\_b\\) is a proper rigid transformation with rotation angle \\(-\omega\\).

We will show that a translation of \\(S\\) is in \\(P\_\beta = H \cap R\_{\omega} (V)\\). By the definition of sofa movement [02. Sofa#^def-sofa](02. Sofa#^def-sofa "wikilink"), \\(S = f\_a(S)\\) lies in \\(H\\). Also, \\(f\_b(S) \subseteq V\\) so \\(S \subseteq f\_b^{-1}(V)\\). As \\(f\_b^{-1}\\) has rotation angle \\(-\omega\\), \\(f\_b^{-1}(V)\\) is a translation of \\(R\_\omega(V)\\). So \\(S\\) also lies inside a translation of \\(R\_\omega(V)\\). Thus, a translation of \\(S\\) lies in \\(P\_\beta = H \cap R\_\omega(V)\\).
Using this, we can

( \\(\Leftarrow\\))
□
